{% extends 'base.html' %}
{% block content %}
    <div id="layoutSidenav_content">
        <main>
            <div class="containe-fluid">
                <div class="row mt-3 ml-3 mr-3">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">
                                Welcome back <strong>{{request.user}}</strong>                    <hr>
                                <div class="row justify-content-evenly">
                                    <div class="col-md-4">
                                        <div class="card">
                                            <div class="card-body bg-primary">
                                                <div class="card-body text-white">
                                                    <span class="float-right summary_icon"><i class="fa fa-users"></i></span>
                                                    <h4><b>
                                                       {{count2}}                                      </b></h4>
                                                    <p><b>Active Members</b></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="card">
                                            <div class="card-body bg-info">
                                                <div class="card-body text-white">
                                                    <span class="float-right summary_icon"><i class="fa fa-th-list"></i></span>
                                                    <h4><b>
                                                        {{count1}}                                       </b></h4>
                                                    <p><b>Total Members</b></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>	                                                       
                            </div>
                        </div>      			
                    </div>
                </div>
            </div>
            <div class="container m-5 py-5">
                <div class="row">
                    <div class="col">
                        <div id="container-chart"></div>
                    </div>
                    
                </div>
                
            </div>
            
        </main>      
    </div>
    <script src="https://code.highcharts.com/highcharts.src.js"></script>
  <script>
    Highcharts.chart('container-chart', {
        chart: {
            type: 'column'
        },
        title: {
            text: 'Membership'
        },
        xAxis: {
            categories: [
                {% for entry in dataset %}'{{entry.status}}'{% if not forloop.last %}, {% endif %}{% endfor %}
            ]
        },
        series: [{
            name: 'Male',
            data: [
            {% for entry in dataset %}{{ entry.male_count }}{% if not forloop.last %}, {% endif %}{% endfor %}
            ]
        }, {
            name: 'Female',
            data: [
            {% for entry in dataset %}{{ entry.female_count }}{% if not forloop.last %}, {% endif %}{% endfor %}
            ]
        }]
    });
    
  </script>
{% endblock content %}